{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-6920\"],{\"+QKN\":function(e,t,a){\"use strict\";a.r(t);var n=a(\"yfxH\"),r=a.n(n);for(var l in n)\"default\"!==l&&function(e){a.d(t,e,function(){return n[e]})}(l);t.default=r.a},\"2WID\":function(e,t,a){\"use strict\";a.r(t);var n=a(\"EYQ8\"),r=a(\"4Cdq\");for(var l in r)\"default\"!==l&&function(e){a.d(t,e,function(){return r[e]})}(l);a(\"mlex\");var s=a(\"KHd+\"),i=Object(s.a)(r.default,n.a,n.b,!1,null,\"382ee41e\",null);i.options.__file=\"managementTable.vue\",t.default=i.exports},\"4Cdq\":function(e,t,a){\"use strict\";a.r(t);var n=a(\"5GcN\"),r=a.n(n);for(var l in n)\"default\"!==l&&function(e){a.d(t,e,function(){return n[e]})}(l);t.default=r.a},\"5GcN\":function(e,t,a){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default={name:\"managementTable\",props:{pageSizes:{type:Array,default:function(){return[10,20,30,40,50]}},pageSize:{type:Number,default:10},tableData:{type:Array},currentPage:{type:Number,default:1},totalPageSize:{type:Number,default:100}},methods:{changeUser:function(e){this.$emit(\"changeUser\",e)},pageChange:function(e){this.$emit(\"pageChange\",e)},forbit:function(e,t){this.$emit(\"forbit\",e,t)},delTable:function(e){this.$emit(\"delTable\",e)}}}},EYQ8:function(e,t,a){\"use strict\";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"tableClass\"},[a(\"el-table\",{staticClass:\"tableClass\",attrs:{data:e.tableData,border:\"\",stripe:\"\"}},[a(\"el-table-column\",{attrs:{type:\"index\",label:\"序号\",width:\"50\",fixed:\"left\"}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"userName\",label:\"用户名\"}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"type\",label:\"身份\",sortable:\"\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"span\",{class:[t.row.type?\"usual\":\"super\"]},[e._v(e._s(0==t.row.type?\"平台管理员\":\"超级管理员\"))])]}}])}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"account\",label:\"账号\"}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"userTel\",label:\"手机号\"}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"isEnable\",label:\"状态\",width:\"100\",sortable:\"\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"span\",{class:[t.row.isEnable?\"error\":\"success\"]},[e._v(e._s(t.row.isEnable?\"已禁用\":\"未禁用\"))])]}}])}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"lastLoginTime\",label:\"最后登录时间\",width:\"130px\",sortable:\"\"}}),e._v(\" \"),a(\"el-table-column\",{attrs:{label:\"操作\",width:\"250px\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"el-button\",{class:[1===t.row.isEnable?\"success\":\"error\"],attrs:{size:\"mini\",type:\"primary\",plain:\"\"},on:{click:function(a){a.preventDefault(),e.forbit(t.row.id,t.row.isEnable)}}},[e._v(e._s(0===t.row.isEnable?\"禁用\":\"启用\"))]),e._v(\" \"),a(\"el-button\",{attrs:{size:\"mini\",type:\"warning\",plain:\"\"},on:{click:function(a){a.preventDefault(),e.changeUser(t.row)}}},[e._v(\"修改\")]),e._v(\" \"),a(\"el-button\",{attrs:{size:\"mini\",type:\"danger\",plain:\"\"},on:{click:function(a){a.preventDefault(),e.delTable(t.row.id)}}},[e._v(\"删除\")])]}}])})],1),e._v(\" \"),a(\"el-pagination\",{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"current-page\":e.currentPage,\"page-sizes\":e.pageSizes,\"page-size\":e.pageSize,total:e.totalPageSize,layout:\"total, sizes, prev, pager, next, jumper\"},on:{\"current-change\":e.pageChange}})],1)},r=[];a.d(t,\"a\",function(){return n}),a.d(t,\"b\",function(){return r})},I0UI:function(e,t,a){},PQ7N:function(e,t,a){\"use strict\";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",[a(\"el-dialog\",{attrs:{visible:e.change,title:e.title},on:{\"update:visible\":function(t){e.change=t}}},[a(\"el-form\",{attrs:{model:e.form,rules:e.rules}},[a(\"el-form-item\",{attrs:{\"label-width\":e.formLabelWidth,label:\"用户名\",prop:\"userName\"}},[a(\"el-input\",{model:{value:e.form.userName,callback:function(t){e.$set(e.form,\"userName\",t)},expression:\"form.userName\"}})],1),e._v(\" \"),a(\"el-form-item\",{attrs:{\"label-width\":e.formLabelWidth,label:\"密码\",prop:\"password\"}},[a(\"el-input\",{model:{value:e.form.password,callback:function(t){e.$set(e.form,\"password\",t)},expression:\"form.password\"}})],1),e._v(\" \"),a(\"el-form-item\",{attrs:{\"label-width\":e.formLabelWidth,label:\"手机\",prop:\"userTel\"}},[a(\"el-input\",{model:{value:e.form.userTel,callback:function(t){e.$set(e.form,\"userTel\",t)},expression:\"form.userTel\"}})],1),e._v(\" \"),a(\"el-form-item\",{attrs:{\"label-width\":e.formLabelWidth,label:\"身份\"}},[a(\"el-select\",{attrs:{placeholder:\"请选择\"},model:{value:e.form.type,callback:function(t){e.$set(e.form,\"type\",t)},expression:\"form.type\"}},e._l(e.adminType,function(e){return a(\"el-option\",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(\" \"),a(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{on:{click:function(t){e.$emit(\"cancel\")}}},[e._v(\"取 消\")]),e._v(\" \"),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){e.changeDia(e.form)}}},[e._v(\"确 定\")])],1)],1)],1)},r=[];a.d(t,\"a\",function(){return n}),a.d(t,\"b\",function(){return r})},WZ3i:function(e,t,a){},\"WbG/\":function(e,t,a){\"use strict\";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"dashboard-container\"},[a(\"div\",[a(\"el-select\",{attrs:{placeholder:\"选择状态\"},model:{value:e.params.isEnable,callback:function(t){e.$set(e.params,\"isEnable\",t)},expression:\"params.isEnable\"}},e._l(e.optionsState,function(e){return a(\"el-option\",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(\" \"),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.search}},[e._v(\"查询\")]),e._v(\" \"),a(\"el-button\",{attrs:{type:\"success\"},on:{click:e.add}},[e._v(\"增加\")])],1),e._v(\" \"),a(\"management-table\",{attrs:{currentPage:e.params.page,tableData:e.tableData,pageSizes:[10,20,30,40],pageSize:e.params.size,totalPageSize:e.allSize},on:{changeUser:e.changeUser,pageChange:e.pageChange,forbit:e.forbit,delTable:e.delTable}}),e._v(\" \"),a(\"management-dialog\",{attrs:{form:e.addForm,title:e.title,change:e.change,adminType:e.adminType},on:{cancel:e.cancel,changeDia:e.changeDia}})],1)},r=[];a.d(t,\"a\",function(){return n}),a.d(t,\"b\",function(){return r})},afq9:function(e,t,a){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=u(a(\"YEIV\")),r=u(a(\"QbLZ\")),l=u(a(\"2WID\")),s=u(a(\"apDl\")),i=a(\"L2JU\"),o=a(\"u7w5\");function u(e){return e&&e.__esModule?e:{default:e}}t.default={name:\"management\",components:{managementTable:l.default,managementDialog:s.default},data:function(){return{title:\"\",tableData:[{id:123123,account:\"aaasd\",userName:\"用户名\",password:\"2131321\",headUrl:\"\",type:0,lastLoginTime:\"2020-01-01\",isEnable:0,userTel:\"12345678985\"},{id:123123,account:\"aaasd\",userTel:\"12345678985\",userName:\"用户名\",password:\"2131321\",headUrl:\"\",type:1,lastLoginTime:\"2020-01-01\",isEnable:1},{id:123123,account:\"aaasd\",userTel:\"12345678985\",userName:\"用户名\",password:\"2131321\",headUrl:\"\",type:0,lastLoginTime:\"2020-01-01\",isEnable:0},{id:123123,account:\"aaasd\",userTel:\"12345678985\",userName:\"用户名\",password:\"2131321\",headUrl:\"\",type:1,lastLoginTime:\"2020-01-01\",isEnable:1},{id:123123,account:\"aaasd\",userTel:\"12345678985\",userName:\"用户名\",password:\"2131321\",headUrl:\"\",type:0,lastLoginTime:\"2020-01-01\",isEnable:1},{id:123123,account:\"aaasd\",userTel:\"12345678985\",userName:\"用户名\",password:\"2131321\",headUrl:\"\",type:0,lastLoginTime:\"2020-01-01\",isEnable:1},{id:123123,account:\"aaasd\",userTel:\"12345678985\",userName:\"用户名\",password:\"2131321\",headUrl:\"\",type:0,lastLoginTime:\"2020-01-01\",isEnable:0},{id:123123,account:\"aaasd\",userTel:\"12345678985\",userName:\"用户名\",password:\"2131321\",headUrl:\"\",type:0,lastLoginTime:\"2020-01-01\",isEnable:0}],optionsState:[{value:\"0\",label:\"已禁用\"},{value:\"1\",label:\"已启用\"},{value:null,label:\"全部\"}],adminType:[{value:0,label:\"超级管理员\"},{value:1,label:\"平台管理员\"}],formLabelWidth:\"180px\",form:{permission:\"\",password:\"\"},addForm:{},change:!1,id:\"\",params:{isEnable:null,page:1,size:10},allSize:50}},computed:(0,r.default)({},(0,i.mapGetters)([\"name\"])),watch:{},mounted:function(){this.getTableList()},methods:{getTableList:function(){},handleSizeChange:function(e){console.log(\"e\",e),this.pageSize=e,this.getTableList()},handleCurrentChange:function(e){console.log(\"e\",e),this.pageNo=e,this.getTableList()},changeUser:function(e){var t;this.title=\"修改用户信息\",this.addForm=(t={id:e.id,userName:e.userName,password:e.password},(0,n.default)(t,\"userName\",e.userName),(0,n.default)(t,\"type\",e.type),(0,n.default)(t,\"userTel\",e.userTel),t),this.change=!0},pageChange:function(e){console.log(e),this.params.page=e,this.searchAdmin(this.params)},changeDia:function(e){e.modifiedUser=this.$store.state.activeUser,console.log(e),this.editAdmin(e)},search:function(){this.params.page=1,this.searchAdmin(this.params)},add:function(){var e;this.title=\"添加用户\",this.addForm=(e={userName:null,password:null},(0,n.default)(e,\"userName\",null),(0,n.default)(e,\"type\",1),(0,n.default)(e,\"userTel\",null),e),this.change=!0},cancel:function(){this.change=!1},addChangeArr:function(){var e=this;addAdmin(this.addForm).then(function(t){console.log(\"response\",t),200!==t.code?e.$message.error(\"添加用户失败\"):(e.addChange=!1,e.getTableList())})},forbit:function(e,t){console.log(\"禁用启用\",e,t);var a=void 0;a=0===t?1:0,console.log(a),this.editAdmin({id:e,isEnable:a,modifiedUser:this.$store.state.activeUser})},delTable:function(e){var t=this;this.$confirm(\"此操作将永久删除该管理员, 是否继续?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then(function(){console.log(e),(0,o.removeAdmin)(e).then(function(e){200===e.code&&(t.$message({message:\"删除成功\",type:\"success\"}),t.searchAdmin(t.params))})}).catch(function(){t.$message({type:\"info\",message:\"已取消删除\"})})},searchAdmin:function(e){var t=this;(0,o.searchAdmin)(e).then(function(e){200===e.code&&e.data&&e.data.length>0&&(t.params+=1)})},editAdmin:function(e){var t=this;(0,o.editAdmin)(e).then(function(e){console.log(e),200==e.code?(t.$message({message:\"修改成功\",type:\"success\"}),t.searchAdmin(t.params)):t.$message({message:\"修改失败\",type:\"error\"})})}}}},apDl:function(e,t,a){\"use strict\";a.r(t);var n=a(\"PQ7N\"),r=a(\"+QKN\");for(var l in r)\"default\"!==l&&function(e){a.d(t,e,function(){return r[e]})}(l);var s=a(\"KHd+\"),i=Object(s.a)(r.default,n.a,n.b,!1,null,null,null);i.options.__file=\"managementDialog.vue\",t.default=i.exports},lVBg:function(e,t,a){\"use strict\";var n=a(\"WZ3i\");a.n(n).a},mlex:function(e,t,a){\"use strict\";var n=a(\"I0UI\");a.n(n).a},r5m0:function(e,t,a){\"use strict\";a.r(t);var n=a(\"WbG/\"),r=a(\"zdtr\");for(var l in r)\"default\"!==l&&function(e){a.d(t,e,function(){return r[e]})}(l);a(\"lVBg\");var s=a(\"KHd+\"),i=Object(s.a)(r.default,n.a,n.b,!1,null,\"5d33c2df\",null);i.options.__file=\"management.vue\",t.default=i.exports},u7w5:function(e,t,a){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.adminList=function(e){return(0,n.default)({method:\"get\",url:\"/proxy/cityList?city=\"+e.city+\"&page=\"+e.page+\"&size=\"+e.size})},t.removeAdmin=function(e){return(0,n.default)({method:\"put\",url:\"/proxy/delCityProxy\",params:{id:e}})},t.editAdmin=function(e){return(0,n.default)({method:\"put\",url:\"/proxy/upCityProxy\",data:e})},t.searchAdmin=function(e){return(0,n.default)({method:\"get\",url:\"/proxy/cityList?isEnable=\"+e.isEnable+\"&page=\"+e.page+\"&size=\"+e.size})};var n=function(e){return e&&e.__esModule?e:{default:e}}(a(\"t3Un\"))},yfxH:function(e,t,a){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default={name:\"managementDialog\",props:{title:{type:String},form:{type:Object},change:{type:Boolean,default:!1},formLabelWidth:{type:String,default:\"100px\"},adminType:{type:Array}},data:function(){return{rules:{userName:[{required:!0,message:\"请输入用户名\",trigger:\"blur\"}],password:[{required:!0,message:\"请输入密码\",trigger:\"blur\"},{min:5,max:16,message:\"长度在 5 到 16 个字符\",trigger:\"blur\"}],userTel:[{required:!0,message:\"请输入电话号码\",trigger:\"blur\"},{min:11,max:11,message:\"长度为 11 个字符\",trigger:\"blur\"}]}}},methods:{changeDia:function(e){this.$emit(\"changeDia\",e)}}}},zdtr:function(e,t,a){\"use strict\";a.r(t);var n=a(\"afq9\"),r=a.n(n);for(var l in n)\"default\"!==l&&function(e){a.d(t,e,function(){return n[e]})}(l);t.default=r.a}}]);","extractedComments":[]}